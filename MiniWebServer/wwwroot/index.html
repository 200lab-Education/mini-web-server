<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Mini Web Server</title>
    <link href="css/site.css" rel="stylesheet" />
</head>
<body>
    <h1>Hello World from MiniWebServer!</h1>
    <p class="author">Written by <a href="https://www.daohainam.com">Dao Hai Nam</a></p>
    <div id="clock"></div>
    <script src="js/clock.js"></script>
    <img src="images/dotnet-logo.jpg" width="100" height="100" />

    <div class="panel">
        <button onclick="helpcheck(); return false;">Help check!</button>
        <div class="message-panel" id="help-check"></div>
    </div>

    <div class="panel">
        <button onclick="getrandomquote(); return false;">Click here to get a quote!</button>
        <div class="message-panel" id="random-quote"></div>
    </div>

    <script type="text/javascript">
        window.onload = function () {
            clock('clock');
        };

        async function fetchFromUrl(url) {
            const response = await fetch(url);
            return await response.text();
        }

        function helpcheck() {
            fetchFromUrl("/helpcheck").then((value) => {
                document.getElementById("help-check").innerHTML = value;
            });
        }

        function getrandomquote() {
            fetchFromUrl("/quote/random").then((value) => {
                document.getElementById("random-quote").innerHTML = value;
            });
        }
    </script>
</body>
</html>